---
title: Docusaurus 3.6
authors: [slorber]
tags: [release]
image: ./img/social-card.png
date: 2024-11-04
---

æˆ‘ä»¬å¾ˆé«˜å…´åœ°å®£å¸ƒ **Docusaurus 3.6** æ­£å¼å‘å¸ƒã€‚

Docusaurus ç°åœ¨èƒ½ä»¥ âš¡ï¸âš¡ï¸âš¡ï¸ **æ›´å¿«çš„é€Ÿåº¦** æ„å»ºæ‚¨çš„ç«™ç‚¹ã€‚

å‡çº§è¿‡ç¨‹åº”è¯¥å¾ˆè½»æ¾ã€‚æˆ‘ä»¬çš„[å‘å¸ƒæµç¨‹](/community/release-process)éµå¾ª[è¯­ä¹‰åŒ–ç‰ˆæœ¬æ§åˆ¶](https://semver.org/)ï¼Œæ¬¡è¦ç‰ˆæœ¬æ›´æ–°ä¸ä¼šåŒ…å«ä»»ä½•ç ´åæ€§å˜æ›´ã€‚

![Docusaurus åšå®¢æ–‡ç« ç¤¾äº¤åª’ä½“å¡ç‰‡](./img/social-card.png)

## é‡ç‚¹æ›´æ–°

æœ¬æ¬¡ç‰ˆæœ¬æ›´æ–°ä¸»è¦èšç„¦äºé€šè¿‡ [Docusaurus Faster](https://github.com/facebook/docusaurus/issues/10556) é¡¹ç›®æå‡æ„å»ºæ€§èƒ½ã€‚

## Docusaurus Faster è®¡åˆ’

[Docusaurus Faster](https://github.com/facebook/docusaurus/issues/10556) é¡¹ç›®çš„ç›®æ ‡æ˜¯ç¼©çŸ­æ„å»ºæ—¶é—´å¹¶é™ä½å†…å­˜æ¶ˆè€—ã€‚

æˆ‘ä»¬å®æ–½äº†å¤šé¡¹ä¼˜åŒ–æªæ–½ï¼Œå¹¶å°†åŸºç¡€è®¾æ–½å‡çº§ä¸ºåŸºäº Rust çš„é«˜æ€§èƒ½å·¥å…·é“¾ï¼Œä¸»è¦åŒ…æ‹¬ï¼š

- ğŸ¦€ [Rspack](https://rspack.dev/)ï¼šåŸºäº Rust çš„å¿«é€Ÿ Web æ‰“åŒ…å·¥å…·ï¼Œå‡ ä¹å¯æ— ç¼æ›¿ä»£ [webpack](https://webpack.js.org/)
- ğŸ¦€ [SWC](https://swc.rs/)ï¼šæé€Ÿ Web ç¼–è¯‘å™¨ï¼ŒåŸºäº Rust çš„ Web å…¨æ ˆå·¥å…·é“¾ï¼ˆæ”¯æŒ HTMLã€CSSã€JSï¼‰
- ğŸ¦€ [Lightning CSS](https://lightningcss.dev/)ï¼šè¶…é«˜é€Ÿ CSS è§£æå™¨ã€è½¬æ¢å™¨ã€æ‰“åŒ…å·¥å…·å’Œå‹ç¼©å™¨

### å½±å“èŒƒå›´

é‡‡ç”¨æ–°åŸºç¡€è®¾æ–½å¯èƒ½äº§ç”Ÿå¤šæ–¹é¢å½±å“ã€‚æˆ‘ä»¬æ— æ³•ç©·å°½æ‰€æœ‰ç»†èŠ‚ï¼Œä»¥ä¸‹èšç„¦ä¸»è¦å˜åŒ–ã€‚

ä¸ºä¾¿äºæ‚¨é¡ºåˆ©è¿ç§»ï¼Œæˆ‘ä»¬åœ¨é™æ€ç«™ç‚¹è¾“å‡ºæ•ˆæœå’Œ[æµè§ˆå™¨å…¼å®¹æ€§](/docs/browser-support)æ–¹é¢ä¿æŒäº†é«˜åº¦ä¿å®ˆçš„ç­–ç•¥ã€‚

#### æ„å»ºæ—¶é—´

ç¤¾åŒºç«™ç‚¹åŸºå‡†æµ‹è¯•æ˜¾ç¤ºï¼Œç”Ÿäº§ç¯å¢ƒæ„å»ºé€Ÿåº¦å¯æå‡è‡³ âš¡ï¸**2 åˆ° 4 å€**ï¼ğŸ”¥ï¼š

- [React Native å®˜ç½‘](https://github.com/facebook/react-native-website/pull/4268)ï¼šæé€Ÿ 3.04 å€ ğŸ”¥
- [Babel å®˜ç½‘](https://github.com/babel/website/pull/2997)ï¼šæé€Ÿ 3.27 å€ ğŸ”¥
- [Lexical å®˜ç½‘](https://github.com/facebook/lexical/pull/6761)ï¼šæé€Ÿ 2 å€ ğŸ”¥

[å¦‚ä½•è¿›è¡ŒåŸºå‡†æµ‹è¯•](https://github.com/facebook/docusaurus/issues/10556#issuecomment-2407671873)

:::note[å…³äºå¢é‡æ„å»º]

[Rspack æš‚æœªæ”¯æŒæŒä¹…åŒ–ç¼“å­˜](https://rspack.dev/misc/planning/roadmap#persistent-cache)ï¼Œä½†å·²åˆ—å…¥å¼€å‘è·¯çº¿å›¾ã€‚æˆ‘ä»¬è®¤ä¸ºè¿™ä¸ä¼šå½±å“ Rspack çš„é‡‡ç”¨ï¼Œå› ä¸º Rspack çš„å†·å¯åŠ¨æ„å»ºé€Ÿåº¦é€šå¸¸ä¸å¯ç”¨æŒä¹…åŒ–ç¼“å­˜çš„ Webpack çƒ­æ„å»ºç›¸å½“ã€‚

:::

#### å†…å­˜æ¶ˆè€—

æ‚¨è¿˜å°†è§‚å¯Ÿåˆ°å†…å­˜å ç”¨çš„æ”¹å–„ï¼š

- æ–°åŸºç¡€è®¾æ–½æ•´ä½“å†…å­˜æ¶ˆè€—æ›´ä½
- æˆ‘ä»¬ä¿®å¤äº†ä¸»è¦å½±å“å›½é™…åŒ–ç«™ç‚¹çš„ä¸¥é‡[å†…å­˜æ³„æ¼é—®é¢˜](https://github.com/facebook/docusaurus/pull/10599)
- æ–°å¢äº†[CI æ£€æŸ¥](https://github.com/facebook/docusaurus/pull/10601)ç¡®ä¿å†…å­˜å ç”¨ä¸ä¼šå€’é€€ï¼Œä¸”æˆ‘ä»¬çš„ç«™ç‚¹å’Œåˆå§‹åŒ–æ¨¡æ¿éƒ½èƒ½åœ¨å†…å­˜å—é™ç¯å¢ƒä¸­æ„å»º
- å¢åŠ äº†[å†…éƒ¨å·¥å…·](https://github.com/facebook/docusaurus/pull/10590)ç”¨äºåˆ†ææ„å»ºè¿‡ç¨‹ä¸­å„é˜¶æ®µçš„å†…å­˜æ¶ˆè€—
- [ç§»é™¤äº†å¯èƒ½æ©ç›–å†…å­˜æ³„æ¼çš„ `process.exit(0)`](https://github.com/facebook/docusaurus/pull/10410)ï¼Œè¿™äº›æ³„æ¼å¯èƒ½æ¥è‡ªæ‚¨çš„ä»£ç æˆ–ç¬¬ä¸‰æ–¹æ’ä»¶

#### å…¶ä»–å½±å“

- HTML å‹ç¼©å™¨ç°åœ¨ä¼š[åœ¨é‡åˆ°æ— æ•ˆ HTML æ ‡è®°æ—¶å‘å‡ºè­¦å‘Š](https://github.com/facebook/docusaurus/discussions/10580)
- é™æ€ HTML è¾“å‡ºä½“ç§¯[ç¼©å°çº¦ 5%](https://github.com/facebook/docusaurus/pull/10554)
- éƒ¨åˆ†é”™è¯¯å·²è¢«æ–°åŸºç¡€è®¾æ–½è‡ªåŠ¨ä¿®å¤

### é‡‡ç”¨ç­–ç•¥

è¿™å¥—æ–°åŸºç¡€è®¾æ–½å±äºç ´åæ€§å˜æ›´ï¼Œä½†é‡‡ç”¨æ˜¯å¯é€‰åŠŸèƒ½ï¼Œä¸éœ€è¦å‡çº§ Docusaurus ä¸»ç‰ˆæœ¬å·ã€‚

åœ¨ä½¿ç”¨ Docusaurus Faster å‰ï¼Œè¯·å…ˆæ·»åŠ è¿™ä¸ªæ–°åŒ…ï¼š

```bash npm2yarn
npm install @docusaurus/faster
```

ä¸ºå¸®åŠ©æ‚¨**åœ¨ Docusaurus v3 ä¸‹é€æ­¥é‡‡ç”¨**ï¼Œæˆ‘ä»¬å¼•å…¥äº†ä¸€ç»„å¯æ¸è¿›å¼å¯ç”¨çš„åŠŸèƒ½å¼€å…³ã€‚

æ¨èä½¿ç”¨è¿™ä¸ªç®€å•çš„å¸ƒå°”å¿«æ·æ–¹å¼ä¸€æ¬¡æ€§å¼€å¯æ‰€æœ‰åŠŸèƒ½ï¼š

```js
const config = {
  future: {
    experimental_faster: true,
  },
};
```

è‹¥æŸä¸ªå¼€å…³ä¸æ‚¨çš„ç«™ç‚¹ä¸å…¼å®¹ï¼Œä¹Ÿå¯ä»¥ç‹¬ç«‹å¯ç”¨å„ä¸ªåŠŸèƒ½å¼€å…³ï¼š

```ts
const config = {
  future: {
    experimental_faster: {
      swcJsLoader: true,
      swcJsMinimizer: true,
      swcHtmlMinimizer: true,
      lightningCssMinimizer: true,
      rspackBundler: true,
      mdxCrossCompilerCache: true,
    },
  },
};
```

- [`swcJsLoader`](https://github.com/facebook/docusaurus/pull/10435)ï¼šä½¿ç”¨ [SWC](https://swc.rs/) è½¬è¯‘ JSï¼ˆæ›¿ä»£ [Babel](https://babeljs.io/)ï¼‰
- [`swcJsMinimizer`](https://github.com/facebook/docusaurus/pull/10441)ï¼šä½¿ç”¨ [SWC](https://swc.rs/) å‹ç¼© JSï¼ˆæ›¿ä»£ [Terser](https://github.com/terser/terser)ï¼‰
- [`swcHtmlMinimizer`](https://github.com/facebook/docusaurus/pull/10554)ï¼šä½¿ç”¨ [SWC](https://swc.rs/) å‹ç¼© HTML å’Œå†…è” JS/CSSï¼ˆæ›¿ä»£ [html-minifier-terser](https://github.com/terser/html-minifier-terser)ï¼‰
- [`lightningCssMinimizer`](https://github.com/facebook/docusaurus/pull/10522)ï¼šä½¿ç”¨ [Lightning CSS](https://lightningcss.dev/) å‹ç¼© CSSï¼ˆæ›¿ä»£ [cssnano](https://github.com/cssnano/cssnano) å’Œ [clean-css](https://github.com/clean-css/clean-css)ï¼‰
- [`rspackBundler`](https://github.com/facebook/docusaurus/pull/10402)ï¼šä½¿ç”¨ [Rspack](https://rspack.dev/) æ‰“åŒ…åº”ç”¨ï¼ˆæ›¿ä»£ [webpack](https://webpack.js.org/)ï¼‰
- [`mdxCrossCompilerCache`](https://github.com/facebook/docusaurus/pull/10479)ï¼šMDX æ–‡ä»¶åªéœ€ç¼–è¯‘ä¸€æ¬¡å³å¯åŒæ—¶é€‚ç”¨äºæµè§ˆå™¨/Node.js ç¯å¢ƒ

:::tip[å®éªŒæ€§ä½†å®‰å…¨]

æ— éœ€æ‹…å¿ƒå¯ç”¨è¿™äº›åŠŸèƒ½ã€‚å®éªŒæ€§è´¨ä»…é’ˆå¯¹é…ç½®é€‰é¡¹ã€‚

æ–°åŸºç¡€è®¾æ–½ç»è¿‡å……åˆ†æµ‹è¯•ä¸”ç¨³å®šæ€§å¼ºï¼Œå·²é€šè¿‡æˆ‘ä»¬çš„ CI æµæ°´çº¿éªŒè¯ã€‚[Docusaurus å®˜ç½‘](https://docusaurus.io/)å·²åœ¨ç”Ÿäº§ç¯å¢ƒä½¿ç”¨è¯¥æ–¹æ¡ˆï¼Œæˆ‘ä»¬ä¹Ÿè®¡åˆ’å°†å…¶æ¨å¹¿è‡³ Meta å…¶ä»–æ–‡æ¡£ç«™ç‚¹ã€‚

:::

#### æ’ä»¶å…¼å®¹æ€§

æ–°åŸºç¡€è®¾æ–½é‡‡ç”¨ [Rspack](https://rspack.dev/)ã€‚å·§åˆçš„æ˜¯ï¼ŒRspack ä¸ [webpack](https://webpack.js.org/) å‡ ä¹ 100% å…¼å®¹ï¼Œä¸ä¼šç ´åç°æœ‰æ’ä»¶ç”Ÿæ€ã€‚

å¤§å¤šæ•° Docusaurus æ’ä»¶åº”èƒ½ç›´æ¥åœ¨ Rspack ç¯å¢ƒä¸‹è¿è¡Œï¼ŒåŒ…æ‹¬é‚£äº›å®ç°äº† [`configureWebpack`](/docs/api/plugin-methods/lifecycle-apis#configureWebpack) çš„æ’ä»¶ã€‚

ä½†éƒ¨åˆ†æ’ä»¶éœ€è¿›è¡Œå¾®è°ƒä»¥é€‚é… Rspackã€‚æ ¸å¿ƒåŸåˆ™æ˜¯é¿å…ç›´æ¥å¯¼å…¥ `webpack`ï¼Œè½¬è€Œä½¿ç”¨"åŠ¨æ€æä¾›"çš„ webpack å®ä¾‹ï¼š

```diff
-import webpack from 'webpack';

export default function (context, options) {
  return {
    name: 'custom-docusaurus-plugin',
-   configureWebpack(config, isServer) {
+   configureWebpack(config, isServer, {currentBundler}) {
      return {
        plugins: [
-         new webpack.DefinePlugin({}),
+         new currentBundler.instance.DefinePlugin({}),
        ]
      };
    },
  };
}
```

:::tip[è‡´æ’ä»¶å¼€å‘è€…]

è¯·æŸ¥é˜…[ä¸“é¡¹è®®é¢˜](https://github.com/facebook/docusaurus/issues/10572)è·å–æŒ‡å—ä¸æ”¯æŒã€‚

:::

### åç»­è®¡åˆ’

è¿™ä»…æ˜¯å¼€ç«¯ï¼šæˆ‘ä»¬å°†æŒç»­æ¨è¿› [Docusaurus Faster](https://github.com/facebook/docusaurus/issues/10556) é¡¹ç›®ï¼Œå·²è§„åˆ’å¤šé¡¹æ€§èƒ½ä¼˜åŒ–æ–¹æ¡ˆã€‚

æ ¹æ®[ç”¨æˆ·åé¦ˆ](https://github.com/facebook/docusaurus/issues/10556)ï¼Œæˆ‘ä»¬è®¡åˆ’åœ¨Docusaurusçš„ä¸‹ä¸€ä¸»è¦ç‰ˆæœ¬ä¸­å°†æ­¤æ–°åŸºç¡€è®¾æ–½è®¾ä¸ºé»˜è®¤é…ç½®ã€‚

ğŸ™ æˆ‘ä»¬è¦ç‰¹åˆ«æ„Ÿè°¢è¿™äº›ä¼˜ç§€å·¥å…·çš„å¼€å‘è€…ä»¬ï¼Œæ­£æ˜¯ä»–ä»¬è®©Docusaurusè·å¾—äº†å‰æ‰€æœªæœ‰çš„æ€§èƒ½æå‡ã€‚å°¤å…¶è¦æ„Ÿè°¢[Rspackå›¢é˜Ÿ](https://rspack.dev/misc/team/core-team)åœ¨é¡¹ç›®æ¨è¿›è¿‡ç¨‹ä¸­ç»™äºˆçš„æ”¯æŒï¼Œä»–ä»¬å¿«é€Ÿå“åº”æˆ‘ä»¬çš„åé¦ˆï¼Œå¹¶å®ç°äº†æ‰€æœ‰å¿…éœ€åŠŸèƒ½æ¥ä¿ƒæˆè¿™ä¸€å˜é©ã€‚ğŸ‘

## Rsdoctoræ’ä»¶

åœ¨[#10588](https://github.com/facebook/docusaurus/pull/10588)ä¸­ï¼Œæˆ‘ä»¬ä¸º[Rsdoctor](https://rsdoctor.dev/)å¼€å‘äº†Docusaurusæ’ä»¶ã€‚è¯¥æ’ä»¶èƒ½åˆ†æDocusaurusçš„æ‰“åŒ…é˜¶æ®µï¼Œå¸®åŠ©æ‚¨å®šä½å½±å“æ‰“åŒ…é€Ÿåº¦çš„åŠ è½½å™¨ã€æ’ä»¶å’Œå‹ç¼©å™¨ç­‰ç¯èŠ‚ï¼ŒåŒæ—¶å…¼å®¹webpackå’ŒRspackã€‚

![åŠ è½½å™¨æ—¶é—´è½´ç¤ºä¾‹](./img/rsdoctor.jpg)

ä½¿ç”¨å‰è¯·å…ˆå®‰è£…[`@docusaurus/plugin-rsdoctor`](/docs/api/plugins/@docusaurus/plugin-rsdoctor)åŒ…ï¼Œç„¶ååœ¨é…ç½®ä¸­æ·»åŠ æ’ä»¶ï¼š

```ts title="docusaurus.config.js"
export default {
  plugins: [
    [
      'rsdoctor',
      {
        /* options */
      },
    ],
  ],
};
```

:::tip

å»ºè®®é€šè¿‡ç¯å¢ƒå˜é‡æ§åˆ¶æ’ä»¶å¯ç”¨çŠ¶æ€ï¼š

```ts title="docusaurus.config.js"
export default {
  plugins: [
    process.env.RSDOCTOR === 'true' && [
      'rsdoctor',
      {
        /* é…ç½®é¡¹ */
      },
    ],
  ],
};
```

```bash
# ä¸å¯ç”¨Rsdoctorçš„æ„å»º
npm run build

# å¯ç”¨Rsdoctorçš„æ„å»º
RSDOCTOR=true npm run build
```

:::

## Mermaidå›¾è¡¨

åœ¨[#10510](https://github.com/facebook/docusaurus/pull/10510)ä¸­ï¼Œæˆ‘ä»¬æ”¾å®½äº†å¯¹[Mermaidå›¾è¡¨](https://mermaid.js.org/)çš„ç‰ˆæœ¬é™åˆ¶ï¼Œç°å·²æ”¯æŒMermaid 10/11ç‰ˆæœ¬ã€‚æœªæ¥æ–°ç‰ˆæœ¬é¢„è®¡ä¹Ÿå°†ä¿æŒå…¼å®¹ï¼Œè®©æ‚¨å¯ä»¥è‡ªä¸»å†³å®šå‡çº§æ—¶æœºã€‚

ç°åœ¨æ‚¨å¯ä»¥åˆ›å»ºæ–°å‹å›¾è¡¨ï¼Œä¾‹å¦‚[æ¶æ„å›¾](https://mermaid.js.org/syntax/architecture)ï¼š

```mermaid
architecture-beta
    group api(cloud)[API]

    service db(database)[Database] in api
    service disk1(disk)[Storage] in api
    service disk2(disk)[Storage] in api
    service server(server)[Server] in api

    db:L -- R:server
    disk1:T -- B:server
    disk2:T -- B:db
```

## ç¿»è¯‘æ›´æ–°

- ğŸ‡¸ğŸ‡® [#10551](https://github.com/facebook/docusaurus/pull/10551)ï¼šä¼˜åŒ–æ–¯æ´›æ–‡å°¼äºšè¯­ä¸»é¢˜ç¿»è¯‘
- ğŸ‡»ğŸ‡³ [#10507](https://github.com/facebook/docusaurus/pull/10507)ï¼šä¼˜åŒ–è¶Šå—è¯­ä¸»é¢˜ç¿»è¯‘
- ğŸ‡ªğŸ‡¸ [#10413](https://github.com/facebook/docusaurus/pull/10413)ï¼šä¼˜åŒ–è¥¿ç­ç‰™è¯­ä¸»é¢˜ç¿»è¯‘

## å…¶ä»–å˜æ›´

å…¶ä»–é‡è¦æ›´æ–°åŒ…æ‹¬ï¼š

- [#10586](https://github.com/facebook/docusaurus/pull/10586)ï¼šåšå®¢æ”¯æŒé€šè¿‡`frontMatter.title_meta`è¦†ç›–SEOæ ‡é¢˜
- [#10600](https://github.com/facebook/docusaurus/pull/10600)ï¼š`docusaurus build`å’Œ`docusaurus deploy`å‘½ä»¤ç°æ”¯æŒå¤š`--locale`å‚æ•°
- [#10454](https://github.com/facebook/docusaurus/pull/10454)ï¼š`docusaurus-remark-plugin-npm2yarn`å‡çº§è‡³[`npm-to-yarn` v3](https://github.com/nebrelbug/npm-to-yarn/releases/tag/v3.0.0)ï¼Œæ”¯æŒè½¬æ¢`npx`å‘½ä»¤
- [#10612](https://github.com/facebook/docusaurus/pull/10612)ï¼šCanaryç‰ˆæœ¬å·æ”¹ç”¨`3.5.2-canary-<ç¼–å·>`æ ¼å¼ä»¥ç¬¦åˆæ’ä»¶`peerDependency`è¦æ±‚
- [#10547](https://github.com/facebook/docusaurus/pull/10547)ï¼š`@docusaurus/tsconfig`å‡çº§è‡³`target: 'es2022'`
- [#10514](https://github.com/facebook/docusaurus/pull/10514)ï¼šç§»é™¤äº†åˆå§‹åŒ–æ¨¡æ¿ä¸­çš„`babel.config.js`ä»¥é™ä½Babelå®šåˆ¶éœ€æ±‚

æŸ¥çœ‹ **[3.6.0 ç‰ˆæœ¬å˜æ›´æ—¥å¿—](/changelog/3.6.0)** è·å–å®Œæ•´çš„å˜æ›´åˆ—è¡¨ã€‚