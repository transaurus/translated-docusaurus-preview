---
title: Announcing Docusaurus 3.0
authors:
  - slorber
tags: [release]
image: ./img/social-card.png
date: 2023-10-31
---

ä»Šå¤©ï¼Œæˆ‘ä»¬å¾ˆé«˜å…´åœ°å®£å¸ƒ **Docusaurus 3.0 æ­£å¼å‘å¸ƒ**ï¼ğŸ‰

åœ¨ [**Meta å¼€æºå›¢é˜Ÿ**](https://opensource.fb.com/) çœ‹æ¥ï¼ŒDocusaurus èƒ½å¸®åŠ©æ‚¨ä»¥ **æœ€å°æˆæœ¬** æ„å»º **æœ€ä½³æ–‡æ¡£ç½‘ç«™**ï¼Œè®©æ‚¨ä¸“æ³¨äºçœŸæ­£é‡è¦çš„äº‹æƒ…ï¼šå†…å®¹åˆ›ä½œã€‚

è¿™æ˜¯ Docusaurus çš„ **å…¨æ–°ä¸»ç‰ˆæœ¬**ï¼Œå¸¦æ¥äº† **æ¿€åŠ¨äººå¿ƒçš„æ–°åŠŸèƒ½** å’Œå‡çº§çš„ä¾èµ–é¡¹ã€‚

éµå¾ª [**è¯­ä¹‰åŒ–ç‰ˆæœ¬æ§åˆ¶**](https://semver.org/) åŸåˆ™ï¼Œæœ¬æ¬¡å‘å¸ƒåŒ…å« **é‡å¤§å˜æ›´**ï¼Œæˆ‘ä»¬å·²åœ¨ [**v3 è¿ç§»æŒ‡å—**](/docs/migration/v3/) ä¸­è¯¦ç»†è¯´æ˜ã€‚è™½ç„¶é‡å¤§å˜æ›´å¯èƒ½å¸¦æ¥ä¸ä¾¿ï¼Œä½†å®ƒä»¬ä¸º Docusaurus å³å°†å®ç°çš„ **æ–°åŠŸèƒ½æµªæ½®** å¥ å®šäº†åŸºç¡€ã€‚

![v3.0 ç¤¾äº¤åª’ä½“å¡ç‰‡å›¾ç‰‡](./img/social-card.png)

æˆ‘ä»¬åŸè®¡åˆ’æ›´é¢‘ç¹åœ°å‘å¸ƒä¸»ç‰ˆæœ¬ï¼Œä½† Docusaurus v3 çš„å¼€å‘å‘¨æœŸè¶…å‡ºé¢„æœŸã€‚åœ¨ç§¯ç´¯çš„è¯¸å¤šé‡å¤§å˜æ›´ä¸­ï¼Œ**å‡çº§è‡³ MDX v3** å¯èƒ½æ˜¯æœ¬æ¬¡ç‰ˆæœ¬å‡çº§çš„ä¸»è¦æŒ‘æˆ˜ã€‚æˆ‘ä»¬ä»˜å‡ºäº†é¢å¤–åŠªåŠ›ä½¿å‡çº§è¿‡ç¨‹å°½å¯èƒ½é¡ºç•…ï¼Œç‰¹åˆ«æ˜¯é€šè¿‡æ·»åŠ  [å¯¹ MDX v1 çš„å…¼å®¹æ€§é€‰é¡¹](/docs/api/docusaurus-config#markdown)ã€‚

æœ€ç®€å•çš„é¡¹ç›®ä»…éœ€å‡çº§å°‘é‡ npm ä¾èµ–é¡¹ã€‚å¯¹äºæ›´å¤æ‚çš„é¡¹ç›®ï¼Œæˆ‘ä»¬æä¾›äº†å‡ ç§ç­–ç•¥å¸®åŠ©æ‚¨æ›´è‡ªä¿¡åœ°å®Œæˆå‡çº§ï¼š

- æå‰ [å‡†å¤‡æ‚¨çš„ç«™ç‚¹](/blog/preparing-your-site-for-docusaurus-v3)ï¼Œåœ¨ä¿æŒ Docusaurus v2 çš„åŒæ—¶é€æ­¥å®æ–½å‡çº§
- é€šè¿‡ [è®¾ç½®è§†è§‰å›å½’æµ‹è¯•](/blog/upgrading-frontend-dependencies-with-confidence-using-visual-regression-testing) æ•æ‰å‡çº§è¿‡ç¨‹ä¸­æ„å¤–çš„è§†è§‰å˜åŒ–

:::info[å…³äº Docusaurus v2]

æ ¹æ®æˆ‘ä»¬çš„ [å‘å¸ƒæµç¨‹](/community/release-process)ï¼ŒDocusaurus v2 ç°å·²è¿›å…¥ **ç»´æŠ¤æ¨¡å¼**ã€‚åœ¨ 2024 å¹´ 1 æœˆ 31 æ—¥å‰çš„ 3 ä¸ªæœˆå†…ï¼Œä»…ä¼šé’ˆå¯¹é‡å¤§å®‰å…¨é—®é¢˜æä¾›æ”¯æŒã€‚å»ºè®®æ‚¨åœ¨æ­¤æœŸé—´å‡çº§è‡³ v3 ç‰ˆæœ¬ã€‚

:::

import IframeWindow from '@site/src/components/BrowserWindow/IframeWindow';

## é‡å¤§å˜æ›´

æœ¬èŠ‚ä»…æä¾›å¿«é€Ÿæ¦‚è§ˆã€‚æ‰€æœ‰é‡å¤§å˜æ›´å‡å·²åœ¨ [**v3 è¿ç§»æŒ‡å—**](/docs/migration/v3) ä¸­å®Œæ•´è®°å½•ã€‚

Docusaurus v3 å°†å¤šä¸ªä¾èµ–é¡¹å‡çº§è‡³æ–°çš„ä¸»ç‰ˆæœ¬ï¼Œæ¯ä¸ªç‰ˆæœ¬éƒ½åŒ…å«è‡ªèº«çš„é‡å¤§å˜æ›´ï¼š

- Node.js v16 â¡ï¸ v18
- React v17 â¡ï¸ v18
- MDX v1 â¡ï¸ v3
- TypeScript v4 â¡ï¸ v5
- prism-react-renderer v1 â¡ï¸ v2
- react-live v2 â¡ï¸ v4
- Mermaid v9 â¡ï¸ v10
- import-fresh v3 â¡ï¸ jiti v1
- remark-emoji v2 â¡ï¸ v4

å…¸å‹çš„ `package.json` ä¾èµ–é¡¹å‡çº§ç¤ºä¾‹å¦‚ä¸‹ï¼š

```diff title="package.json"
 {
   "dependencies": {
     // upgrade to Docusaurus v3
-    "@docusaurus/core": "2.4.3",
-    "@docusaurus/preset-classic": "2.4.3",
+    "@docusaurus/core": "3.0.0",
+    "@docusaurus/preset-classic": "3.0.0",
     // upgrade to MDX v3
-    "@mdx-js/react": "^1.6.22",
+    "@mdx-js/react": "^3.0.0",
     // upgrade to prism-react-renderer v2.0+
-    "prism-react-renderer": "^1.3.5",
+    "prism-react-renderer": "^2.1.0",
     // upgrade to React v18.0+
-    "react": "^17.0.2",
-    "react-dom": "^17.0.2"
+    "react": "^18.2.0",
+    "react-dom": "^18.2.0"
   },
   "devDependencies": {
     // upgrade Docusaurus dev dependencies to v3
-    "@docusaurus/module-type-aliases": "2.4.3",
-    "@docusaurus/types": "2.4.3"
+    "@docusaurus/module-type-aliases": "3.0.0",
+    "@docusaurus/types": "3.0.0"
   }
   "engines": {
     // require Node.js 18.0+
-    "node": ">=16.14"
+    "node": ">=18.0"
   }
 }
```

é™¤ MDX v3 å¤–ï¼Œè¿™äº›å‡çº§ä¾èµ–é¡¹å¸¦æ¥çš„å¤§å¤šæ•°é‡å¤§å˜æ›´å·²ç”±æˆ‘ä»¬å†…éƒ¨å¤„ç†ï¼šé€šå¸¸æƒ…å†µä¸‹æ‚¨æ— éœ€é¢å¤–æ“ä½œã€‚åœ¨ä¾èµ–é¡¹å‡çº§ä¹‹å¤–ï¼Œæ˜ç¡®æ¥è‡ª Docusaurus ä»£ç åº“çš„åŠŸèƒ½æ€§é‡å¤§å˜æ›´ä»…åŒ…æ‹¬ï¼š

- [#9189](https://github.com/facebook/docusaurus/pull/9189)ï¼šåšå®¢ RSS æºé»˜è®¤æ¡ç›®æ•°é™åˆ¶è°ƒæ•´ä¸º 20 æ¡
- [#9308](https://github.com/facebook/docusaurus/pull/9308)ï¼šä¿®å¤å¹¶é‡æ–°å¼•å…¥ `:::warning` è­¦å‘Šæç¤ºï¼Œå¼ƒç”¨ `:::caution`
- [#9310](https://github.com/facebook/docusaurus/pull/9310)ï¼šç§»é™¤æ—§ç‰ˆç‰ˆæœ¬åŒ–ä¾§è¾¹æ  ID å‰ç¼€ï¼ˆé€‚ç”¨äº 2021 å¹´ 12 æœˆ `v2.0.0-beta.10` ä¹‹å‰ç‰ˆæœ¬åŒ–çš„ç«™ç‚¹ï¼‰
- [#7966](https://github.com/facebook/docusaurus/pull/7966)ï¼šé‡æ„æ–‡æ¡£ä¸»é¢˜ç»„ä»¶ï¼Œæœ€ç»ˆéœ€è¦æ‚¨é‡æ–° swizzle è¿™äº›ç»„ä»¶

## é‡ç‚¹æ›´æ–°

ä»¥ä¸‹æ˜¯æ­¤ç‰ˆæœ¬å¸¦æ¥çš„éƒ¨åˆ†å®ç”¨æ–°åŠŸèƒ½ï¼ˆéå®Œæ•´åˆ—è¡¨ï¼‰ã€‚æ‰€æœ‰åŠŸèƒ½è¯¦æƒ…è¯·å‚é˜…[**Docusaurus v3.0.0 å‘å¸ƒè¯´æ˜**](https://github.com/facebook/docusaurus/releases/tag/v3.0.0)ã€‚

### Markdown

Docusaurus v3 ä» MDX v1 å‡çº§è‡³ MDX v3ï¼š

- åœ¨ [#8288](https://github.com/facebook/docusaurus/pull/8288) ä¸­å‡çº§è‡³ [**MDX v2**](https://mdxjs.com/blog/v2/)ï¼ˆ[è¿ç§»æŒ‡å—](https://mdxjs.com/migrating/v2/)ï¼‰
- åœ¨ [#9451](https://github.com/facebook/docusaurus/pull/9451) ä¸­å‡çº§è‡³ [**MDX v3**](https://mdxjs.com/blog/v3/)ï¼ˆ[è¿ç§»æŒ‡å—](https://mdxjs.com/migrating/v3/)ï¼‰

æ–°ç‰ˆ MDX ä¸º**å†…å®¹åˆ›ä½œè€…å’Œæ’ä»¶å¼€å‘è€…æä¾›äº†æå¤§æ”¹è¿›**ï¼Œå¹¶ä¸ºå®ç°æ¿€åŠ¨äººå¿ƒçš„æ–° Markdown åŠŸèƒ½å¥ å®šåŸºç¡€ã€‚

:::warning[MDX v3 - ä¸»è¦æŒ‘æˆ˜]

ä» MDX v1 è¿ç§»è‡³ MDX v3 æ˜¯é‡‡ç”¨ Docusaurus v3 çš„**ä¸»è¦æŒ‘æˆ˜**ã€‚

éƒ¨åˆ†åœ¨ Docusaurus v2 ä¸‹ç¼–è¯‘æˆåŠŸçš„æ–‡æ¡£å¯èƒ½åœ¨ Docusaurus v3 ä¸‹**ç¼–è¯‘å¤±è´¥**ï¼Œæˆ–å‘ˆç°**ä¸åŒæ¸²æŸ“æ•ˆæœ**ã€‚

å¤§å¤šæ•°ç ´åæ€§å˜æ›´æºè‡ª [MDX v2](https://mdxjs.com/blog/v2/)ï¼Œè€Œ [MDX v3](https://mdxjs.com/blog/v3/) çš„æ”¹åŠ¨ç›¸å¯¹è¾ƒå°ã€‚[MDX v2 è¿ç§»æŒ‡å—](https://mdxjs.com/migrating/v2/)ä¸­å…³äº[æ›´æ–° MDX æ–‡ä»¶](https://mdxjs.com/migrating/v2/#update-mdx-files)çš„ç« èŠ‚å°¤ä¸ºé‡è¦ã€‚åŒæ—¶è¯·åŠ¡å¿…é˜…è¯»[MDX é—®é¢˜æ’æŸ¥](https://mdxjs.com/docs/troubleshooting-mdx/)é¡µé¢ï¼Œè¯¥æ–‡æ¡£å¯å¸®åŠ©è§£è¯»å¸¸è§ MDX é”™è¯¯ä¿¡æ¯ã€‚

**æ— éœ€ç•æƒ§**ã€‚å¤§å¤šæ•°é—®é¢˜**æ˜“äºä¿®å¤**ï¼Œé€šå¸¸ä¸éœ€è¦è½¬ä¹‰çš„ `{` å’Œ `<` å­—ç¬¦ç›¸å…³ã€‚ä½†æ ¹æ®ç«™ç‚¹è§„æ¨¡ï¼Œæ‚¨å¯èƒ½éœ€è¦ä¿®æ”¹å¤§é‡æ–‡ä»¶è€Œæ„Ÿåˆ°å‹åŠ›ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬æä¾›äº† [`npx docusaurus-mdx-checker`](https://github.com/slorber/docusaurus-mdx-checker) å‘½ä»¤æ¥è¯„ä¼°å·¥ä½œé‡ï¼Œå¹¶å»ºè®®[æå‰å‡†å¤‡ç«™ç‚¹](/blog/preparing-your-site-for-docusaurus-v3)ã€‚

è‹¥æ‚¨åˆ›å»ºè¿‡è‡ªå®šä¹‰ [MDX æ’ä»¶](/docs/markdown-features/plugins)ï¼ˆRemark/Rehypeï¼‰ï¼Œç”±äº AST ç»“æ„ç•¥æœ‰å˜åŒ–ï¼Œå¯èƒ½éœ€è¦é‡æ„è¿™äº›æ’ä»¶ã€‚

:::

æ­¤æ¬¡å‡çº§ä½¿æˆ‘ä»¬èƒ½å¤Ÿæ–°å¢[CommonMark æ¨¡å¼](/docs/markdown-features#mdx-vs-commonmark)ï¼Œé™ä½ç°æœ‰æ–‡æ¡£è¿ç§»è‡³ Docusaurus çš„éš¾åº¦ã€‚è¯¥åŠŸèƒ½ç›®å‰ä¸º**å®éªŒæ€§**ä¸”éœ€æ‰‹åŠ¨å¯ç”¨ï¼ˆ[éƒ¨åˆ† Docusaurus åŠŸèƒ½å°†ä¸å¯ç”¨](https://github.com/facebook/docusaurus/issues/9092)ï¼‰ã€‚åœ¨ Docusaurus v3 ä¸­ï¼Œæ‰€æœ‰æ–‡ä»¶ä»è¢«è§£æä¸º MDXï¼Œä½†æˆ‘ä»¬è®¡åˆ’åœ¨æœªæ¥ä¸»ç‰ˆæœ¬ä¸­å°† `.md` æ–‡ä»¶è§£æä¸º CommonMarkï¼Œå¹¶å»ºè®®å¯¹ä½¿ç”¨ JSX æˆ– ES æ¨¡å—çš„æ–‡ä»¶é‡‡ç”¨ `.mdx` æ‰©å±•åã€‚

æˆ‘ä»¬è¿˜å¼•å…¥äº†[å…¨å±€é…ç½® Markdown](/docs/api/docusaurus-config#markdown) çš„æ–°æ–¹å¼ï¼Œåç»­å°†å¢åŠ æ›´å¤šçµæ´»é…ç½®é€‰é¡¹ã€‚

```js title="docusaurus.config.js"
export default {
  markdown: {
    format: 'mdx',
    mermaid: true,
    preprocessor: ({filePath, fileContent}) => {
      return fileContent.replaceAll('{{MY_VAR}}', 'MY_VALUE');
    },
    mdx1Compat: {
      comments: true,
      admonitions: true,
      headingIds: true,
    },
  },
};
```

Docusaurus ç°é‡‡ç”¨ [remark-directive](https://github.com/remarkjs/remark-directive) æ’ä»¶æ”¯æŒå‘Šç¤ºæ¡†ã€‚æ‚¨è¿˜å¯é€šè¿‡åˆ›å»ºè‡ªå®šä¹‰ Remark æ’ä»¶ï¼Œä½¿ç”¨ç±»ä¼¼ `:textDirective`ã€`::leafDirective` æˆ– `:::containerDirective` çš„[è‡ªå®šä¹‰æŒ‡ä»¤](https://talk.commonmark.org/t/generic-directives-plugins-syntax/444)æ¥æ‰©å±• Markdown åŠŸèƒ½ã€‚

### ESM ä¸ TypeScript é…ç½® {#esm-ts-configs}

åœ¨ [#9317](https://github.com/facebook/docusaurus/pull/9317) ä¸­ï¼Œæˆ‘ä»¬æ–°å¢äº†å¯¹ ES æ¨¡å—å’Œ TypeScript é…ç½®æ–‡ä»¶çš„æ”¯æŒï¼ŒåŒ…æ‹¬ç«™ç‚¹é…ç½®ã€æ–‡æ¡£ä¾§è¾¹æ ã€æ’ä»¶å’Œé¢„è®¾ã€‚

ä»¥ä¸‹æ˜¯ä¸¤ä¸ª TypeScript é…ç½®ç¤ºä¾‹ï¼Œå¯æä¾›å¸¦æœ‰ IDE è‡ªåŠ¨è¡¥å…¨çš„ç°ä»£åŒ–å¼€å‘ä½“éªŒï¼š

```ts title="docusaurus.config.ts"
import type {Config} from '@docusaurus/types';
import type * as Preset from '@docusaurus/preset-classic';

const config: Config = {
  title: 'My Site',
  favicon: 'img/favicon.ico',
  // your site config ...
  presets: [
    [
      'classic',
      {
        // your preset config ...
      } satisfies Preset.Options,
    ],
  ],
  themeConfig: {
    // your theme config ...
  } satisfies Preset.ThemeConfig,
};

export default config;
```

```ts title="sidebars.ts"
import type {SidebarsConfig} from '@docusaurus/plugin-content-docs';

const sidebars: SidebarsConfig = {
  docs: ['introduction'],
};

export default sidebars;
```

### æœªåˆ—å‡ºå†…å®¹

Docusaurus æ­¤å‰å·²åœ¨ä¸‰ä¸ªå†…å®¹æ’ä»¶ï¼ˆæ–‡æ¡£ã€åšå®¢ã€é¡µé¢ï¼‰ä¸­æ”¯æŒ `draft: true` å‰ç½®å…ƒæ•°æ®é€‰é¡¹ï¼Œå…è®¸æ‚¨ä»ç”Ÿäº§æ„å»ºä¸­ç§»é™¤ç‰¹å®šé¡µé¢ã€‚

åœ¨ [#8004](https://github.com/facebook/docusaurus/pull/8004) ä¸­ï¼Œæˆ‘ä»¬å¼•å…¥äº†æ–°çš„ `unlisted: true` å‰ç½®å…ƒæ•°æ®é€‰é¡¹ï¼Œè¯¥é€‰é¡¹ä¼šä¿ç•™é¡µé¢åœ¨ç”Ÿäº§æ„å»ºä¸­çš„å¯è®¿é—®æ€§ï¼Œä½†åŒæ—¶"éšè—"è¿™äº›é¡µé¢ï¼Œä½¿å…¶æ— æ³•è¢«ä¸»åŠ¨å‘ç°ï¼ˆé™¤éæŒæœ‰å…·ä½“URLï¼‰ã€‚è¿™ä¸ºå†…å®¹å‘å¸ƒå‰çš„åä½œå®¡é˜…æä¾›äº†ä¾¿æ·å·¥ä½œæµã€‚

æœªåˆ—å‡ºå†…å®¹å°†å…·æœ‰ä»¥ä¸‹ç‰¹å¾ï¼š

- ä» `sitemap.xml` ä¸­æ’é™¤
- é€šè¿‡ `<meta name="robots" content="noindex, nofollow" />` ç¦æ­¢SEOç´¢å¼•
- ä»åšå®¢RSSæºä¸­æ’é™¤
- ä»Algolia DocSearchç»“æœä¸­è¿‡æ»¤
- åœ¨ç«™ç‚¹å¯¼èˆªæ ã€æ–‡æ¡£ä¾§è¾¹æ ã€åšå®¢ä¾§è¾¹æ ã€åšå®¢å½’æ¡£ã€æ ‡ç­¾é¡µç­‰ä½ç½®ä¸å¯è§

æœªåˆ—å‡ºå†…å®¹ä¼šæ˜¾ç¤ºè­¦ç¤ºæ¨ªå¹…ï¼Œé˜²æ­¢æ‚¨å¿˜è®°åœ¨å†…å®¹å°±ç»ªåå–æ¶ˆè¯¥çŠ¶æ€ã€‚å‚è§è¿™ä¸ª[æœªåˆ—å‡ºçš„åšå®¢æ–‡ç« ç¤ºä¾‹](/tests/blog/unlisted-post)ï¼š

<IframeWindow url="/tests/blog/unlisted-post" />

### React 18

åœ¨ [#8961](https://github.com/facebook/docusaurus/pull/8961) ä¸­ï¼Œæˆ‘ä»¬å‡çº§è‡³ React 18ã€‚è¿™å¯¹[é€æ­¥é‡‡ç”¨å¹¶å‘ç‰¹æ€§](https://react.dev/blog/2022/03/29/react-v18#gradually-adopting-concurrent-features)ä»¥åŠæœªæ¥åŠŸèƒ½ï¼ˆå¦‚[æ„å»ºæ—¶ReactæœåŠ¡ç«¯ç»„ä»¶](https://github.com/facebook/docusaurus/issues/9089)ï¼‰å…·æœ‰é‡è¦æ„ä¹‰ã€‚

å¯¹å¤šæ•°Docusaurusç«™ç‚¹è€Œè¨€ï¼Œè¯¥ç‰ˆæœ¬Reactå¯å®ç°æ— ç¼å‡çº§ã€‚æˆ‘ä»¬å·²åœ¨æ¡†æ¶å†…éƒ¨å¤„ç†äº†æ‰€æœ‰ç ´åæ€§å˜æ›´ã€‚è‹¥æ‚¨çš„ç«™ç‚¹åŒ…å«å¤§é‡è‡ªå®šä¹‰Reactä»£ç ï¼Œå»ºè®®æŸ¥é˜…å®˜æ–¹æŒ‡å—[å¦‚ä½•å‡çº§è‡³React 18](https://react.dev/blog/2022/03/08/react-18-upgrade-guide)ï¼Œç‰¹åˆ«æ³¨æ„æ–°çš„[è‡ªåŠ¨æ‰¹å¤„ç†](https://react.dev/blog/2022/03/08/react-18-upgrade-guide#automatic-batching)æœºåˆ¶ã€‚

:::danger[React 18ç‰¹æ€§çš„å®éªŒæ€§æ”¯æŒ]

React 18åŒ…å«ä»¥ä¸‹æ–°ç‰¹æ€§ï¼š
- `<Suspense>`
- `React.lazy()`
- `startTransition()`

å…¶åœ¨Docusaurusä¸­çš„æ”¯æŒç›®å‰è¢«è§†ä¸º**å®éªŒæ€§**ã€‚æœªæ¥å¯èƒ½éœ€è¦è°ƒæ•´é›†æˆæ–¹å¼ï¼Œå¯¼è‡´è¿è¡Œæ—¶è¡Œä¸ºå˜åŒ–ã€‚

:::

### è‡ªåŠ¨JSXè¿è¡Œæ—¶

Docusaurus ç°åœ¨ä½¿ç”¨[è‡ªåŠ¨JSXè½¬æ¢](https://legacy.reactjs.org/blog/2020/09/22/introducing-the-new-jsx-transform.html)ã€‚

å¯¹äºä¸è°ƒç”¨React APIçš„JSXæ–‡ä»¶ï¼Œä¸å†éœ€è¦æ˜¾å¼å¯¼å…¥Reactã€‚

```diff title="src/components/MyComponent.js"
- import React from 'react';

  export default function MyComponent() {
    return <div>Hello</div>;
  }
```

### è°ƒè¯•æ„å»º

ç°åœ¨å¯ä»¥ç”Ÿæˆå¼€å‘æ¨¡å¼çš„é™æ€ç«™ç‚¹ã€‚

```bash
docusaurus build --dev
```

:::tip[è°ƒè¯•Reactç›¸å…³é—®é¢˜]

Docusauruså°†é€šè¿‡æ–°çš„[`onRecoverableError`å›è°ƒ](https://react.dev/reference/react-dom/client/hydrateRoot#parameters)è¾“å‡ºæ›´å¤šé”™è¯¯æ—¥å¿—ï¼Œç‰¹åˆ«æ˜¯React 18çš„æ°´åˆé”™è¯¯ã€‚

æ­¤æ„å»ºæ¨¡å¼å¯¹**æ’æŸ¥Reacté—®é¢˜**ç‰¹åˆ«æœ‰ç”¨ã€‚Docusauruså°†ä½¿ç”¨Reactçš„å¼€å‘ç‰ˆæœ¬ï¼Œç›´æ¥è¾“å‡ºè¯¦ç»†å¯è¯»çš„é”™è¯¯ä¿¡æ¯ï¼Œè€Œééœ€è¦å€ŸåŠ©[Reacté”™è¯¯è§£ç å™¨](https://reactjs.org/docs/error-decoder.html/)è§£æçš„å‹ç¼©ä¿¡æ¯ã€‚

:::

### TypeScript

Docusaurus v3 ç°åœ¨è¦æ±‚æœ€ä½ TypeScript ç‰ˆæœ¬ä¸º 5.0ã€‚

æˆ‘ä»¬å°†åŸºç¡€æ¨èçš„ TypeScript é…ç½®é‡æ–°å†…åŒ–åˆ°ä¸€ä¸ªæ–°çš„å®˜æ–¹åŒ…ä¸­ï¼š

```diff title="tsconfig.json"
 {
-  "extends": "@tsconfig/docusaurus/tsconfig.json",
+  "extends": "@docusaurus/tsconfig",
   "compilerOptions": {
     "baseUrl": "."
   }
 }
```

æˆ‘ä»¬è¿˜ä¸º Docusaurus æ ¸å¿ƒç±»å‹ã€æ’ä»¶å’Œé¢„è®¾é€‰é¡¹æä¾›äº†æ›´æ¸…æ™°ã€æ ‡å‡†åŒ–çš„å¯¼å‡ºï¼Œæ‚¨å¯ä»¥åœ¨å…¨æ–°çš„ [TypeScript é…ç½®æ–‡ä»¶](#esm-ts-configs) ä¸­ä½¿ç”¨ï¼š

```ts title="docusaurus.config.ts"
import type {Config} from '@docusaurus/types';
import type {Options, ThemeConfig} from '@docusaurus/preset-classic';
import type {SidebarsConfig} from '@docusaurus/plugin-content-docs';
```

### ä»£ç å—

åœ¨ [#9316](https://github.com/facebook/docusaurus/pull/9316) ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡å‡çº§ [prism-react-renderer](https://github.com/FormidableLabs/prism-react-renderer) v2 æ”¹è¿›äº†è¯­æ³•é«˜äº®ã€‚ä¾‹å¦‚ï¼Œbash å‚æ•° `--save` ç°åœ¨ä¼šæ˜¾ç¤ºé¢œè‰²ï¼š

```bash
npm install --save some-package
```

[äº¤äº’å¼ä»£ç ç¼–è¾‘å™¨](/docs/markdown-features/code-blocks#interactive-code-editor) ä¹Ÿå‡çº§åˆ°äº† [react-live](https://github.com/FormidableLabs/react-live) v4ï¼Œå¹¶é‡‡ç”¨äº†æ–°çš„ [sucrase](https://github.com/alangpierce/sucrase) ç¼–è¯‘å™¨ã€‚å®ƒæ›´å¿«ã€æ›´è½»é‡ï¼Œå¹¶æ”¯æŒç°ä»£ç‰¹æ€§ï¼Œç‰¹åˆ«æ˜¯ TypeScript ç±»å‹æ³¨è§£ã€‚

```js live
function Hello() {
  const name: string = 'World';
  return <div>Hello {name}</div>;
}
```

åœ¨ [#8982](https://github.com/facebook/docusaurus/pull/8982) å’Œ [#8870](https://github.com/facebook/docusaurus/pull/8870) ä¸­ï¼Œæˆ‘ä»¬è¿˜ä¸ºç±» TeXã€ç±» Haskell å’Œ WebAssembly æ³¨é‡Šè¯­æ³•æ·»åŠ äº† [é­”æ³•æ³¨é‡Š](/docs/markdown-features/code-blocks#custom-magic-comments) æ”¯æŒã€‚

```haskell title="haskell.hs"
stringLength :: String -> Int
-- highlight-next-line
stringLength [] = 0
stringLength (x:xs) = 1 + stringLength xs
```

```matlab title="matlab.m"
% highlight-start
function result = times2(n)
  result = n * 2;
end
% highlight-end
x = 10;
% highlight-next-line
y = times2(x);
```

### Mermaid å›¾è¡¨

åœ¨ [#9305](https://github.com/facebook/docusaurus/pull/9305) ä¸­ï¼Œæˆ‘ä»¬å‡çº§åˆ°äº† Mermaid v10.4 å¹¶æ·»åŠ äº†å¯¹å¼‚æ­¥å›¾è¡¨æ¸²æŸ“çš„æ”¯æŒã€‚Docusaurus ç°åœ¨èƒ½å¤Ÿæ¸²æŸ“æ–°ç±»å‹çš„å›¾è¡¨ã€‚

<details>
  <summary>Mindmap</summary>

```mermaid
mindmap
  root((mindmap))
    Research
      Creative techniques
      Strategic planning
      Argument mapping
    Tools
      Pen and paper
      Mermaid
```

</details>

<details>
  <summary>Quadrant chart</summary>

```mermaid
quadrantChart
  title Reach and engagement of campaigns
  x-axis Low Reach --> High Reach
  y-axis Low Engagement --> High Engagement
  quadrant-1 We should expand
  quadrant-2 Need to promote
  quadrant-3 Re-evaluate
  quadrant-4 May be improved
  Campaign A: [0.3, 0.6]
  Campaign B: [0.45, 0.23]
  Campaign C: [0.57, 0.69]
  Campaign D: [0.78, 0.34]
  Campaign E: [0.40, 0.34]
  Campaign F: [0.35, 0.78]
```

</details>

### æŸ¥è¯¢å­—ç¬¦ä¸²æ•°æ®å±æ€§

åœ¨ [#9028](https://github.com/facebook/docusaurus/pull/9028) ä¸­ï¼Œæˆ‘ä»¬å®ç°äº†é€šè¿‡ `docusaurus-data-x` æŸ¥è¯¢å­—ç¬¦ä¸²å‚æ•°è®¾ç½®è‡ªå®šä¹‰ HTML [æ•°æ®å±æ€§](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/data-*)ã€‚è¿™ä½¿å¾—åœ¨å…¶ä»–ç½‘ç«™ä¸ŠåµŒå…¥ Docusaurus iframe æ›´åŠ å®¹æ˜“ï¼Œå¹¶å…è®¸æ‚¨é€šè¿‡ CSS è‡ªå®šä¹‰åµŒå…¥ç‰ˆæœ¬çš„å¤–è§‚ã€‚

```css title="/src/css/custom.css"
html[data-navbar='false'] .navbar {
  display: none;
}

html[data-red-border] div#__docusaurus {
  border: red solid thick;
}
```

<IframeWindow url="/docs/?docusaurus-data-navbar=false&docusaurus-data-red-border" />

### å…¶ä»–ç‰¹æ€§

å…¶ä»–å€¼å¾—æ³¨æ„çš„æ–°ç‰¹æ€§ï¼š

- [#9189](https://github.com/facebook/docusaurus/pull/9189): æ–°å¢åšå®¢ `feedOptions.limit` é€‰é¡¹
- [#9071](https://github.com/facebook/docusaurus/pull/9071): ä¸ºé¡µé¢æ’ä»¶æ·»åŠ æ ‡å‡†åŒ–çš„ SEO å‰ç½®å…ƒæ•°æ®æ”¯æŒ
- [#9171](https://github.com/facebook/docusaurus/pull/9028): å®¢æˆ·ç«¯é‡å®šå‘æ’ä»¶ç°åœ¨æ”¯æŒå®Œå…¨é™å®šçš„ URL ä»¥åŠç›®æ ‡ URL ä¸­çš„æŸ¥è¯¢å­—ç¬¦ä¸²/å“ˆå¸Œ
- [#9171](https://github.com/facebook/docusaurus/pull/9171): æ–°å¢ ESLint è§„åˆ™ [`no-html-links`](/docs/api/misc/@docusaurus/eslint-plugin/no-html-links)
- [#8384](https://github.com/facebook/docusaurus/pull/8384): æ–°å¢ ESLint è§„åˆ™ [`prefer-docusaurus-heading`](/docs/api/misc/@docusaurus/eslint-plugin/prefer-docusaurus-heading)

æŸ¥çœ‹ [**Docusaurus v3.0.0 å‘å¸ƒè¯´æ˜**](https://github.com/facebook/docusaurus/releases/tag/v3.0.0) è·å–å®Œæ•´çš„å˜æ›´åˆ—è¡¨ã€‚

## æ€»ç»“

æ­¤ç‰ˆæœ¬å¸¦æ¥äº†ä¸€äº›æ–°ç‰¹æ€§ï¼Œä½†æ›´é‡è¦çš„æ˜¯ **å‡çº§äº† Docusaurus åŸºç¡€è®¾æ–½çš„è®¸å¤šéƒ¨åˆ†**ã€‚

**MDX å‡çº§** ä»Šå¹´æ¶ˆè€—äº†æˆ‘ä»¬å¤§é‡æ—¶é—´ï¼Œæˆ‘ä»¬åŠªåŠ›ä½¿è¿™ä¸€é‡è¦å‡çº§å¯¹å¤§å®¶æ¥è¯´ä¸é‚£ä¹ˆå›°éš¾ã€‚

åœ¨å®ŒæˆåŸºç¡€è®¾æ–½å‡çº§åï¼Œæˆ‘ä»¬å°†å¾ˆå¿«åœ¨åç»­çš„å°ç‰ˆæœ¬ä¸­æ¢å¤**æä¾›å®ç”¨çš„æ–‡æ¡£åŠŸèƒ½**ã€‚

æˆ‘ä»¬è¦æ„Ÿè°¢æ‚¨å¤šå¹´æ¥å¯¹Docusaurusçš„ä½¿ç”¨ã€‚è¿‘å¹´æ¥æ–‡æ¡£æ¡†æ¶é¢†åŸŸçš„ç«äº‰æ—¥è¶‹æ¿€çƒˆï¼Œæˆ‘ä»¬å°†ç«­å°½å…¨åŠ›ç¡®ä¿Docusaurusç»§ç»­ä¿æŒå…¶å“è¶Š**çµæ´»æ€§**ï¼Œæˆä¸ºå…·æœ‰ç«äº‰åŠ›çš„è§£å†³æ–¹æ¡ˆã€‚