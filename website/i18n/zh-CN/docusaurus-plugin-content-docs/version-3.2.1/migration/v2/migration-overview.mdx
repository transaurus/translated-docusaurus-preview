---
slug: /migration/v2
---

# 概述

本文档将指导您将现有的 Docusaurus 1 站点迁移至 Docusaurus 2。

我们尽可能简化此过程，并提供了迁移命令行工具。

## 主要差异 {#main-differences}

Docusaurus 1 是纯粹的文档站点生成器，使用 React 作为服务端模板引擎，但不在浏览器端加载 React。

Docusaurus 2 经过彻底重构，生成的是单页应用，在浏览器端充分利用 React 的能力。它在保留 Docusaurus 1 核心优势（快速上手、文档版本控制、国际化支持）的同时，提供了更高的可定制性。

此外，Docusaurus 2 是**高性能的静态站点生成器**，能快速构建各类内容型网站（如文档站、博客、产品着陆页、营销页面等）。

虽然我们仍聚焦于帮助您构建完善的文档系统，但由于 Docusaurus 2 本质上是 React 应用，**现在可用于构建任何类型的网站，而不仅限于文档站**。

## Docusaurus 1 目录结构 {#docusaurus-1-structure}

Docusaurus 1 站点通常具有以下目录结构：

```bash
├── docs
└── website
    ├── blog
    ├── core
    │   └── Footer.js
    ├── package.json
    ├── pages
    ├── sidebars.json
    ├── siteConfig.js
    └── static
```

## Docusaurus 2 目录结构 {#docusaurus-2-structure}

迁移完成后，Docusaurus 2 站点目录示例如下：

```sh
├── docs
└── website
    ├── blog
    ├── src
    │   ├── components
    │   ├── css
    │   └── pages
    ├── static
    ├── package.json
    ├── sidebars.json
    ├── docusaurus.config.js
```

:::info

本次迁移不会改变 `/docs` 目录位置，但 Docusaurus v2 站点通常将 `/docs` 置于 `/website` 目录下

迁移至 v2 后，您可自由调整 `/docs` 目录位置。

:::

## 迁移流程 {#migration-process}

完整迁移至 Docusaurus 2 需处理以下内容：

- 依赖包
- 命令行指令
- 站点配置
- Markdown 文件
- 侧边栏文件
- 页面、组件与 CSS
- 版本化文档
- 国际化支持 🚧

## 自动化迁移流程 {#automated-migration-process}

[迁移命令行工具](./migration-automated.mdx) 可自动处理多项迁移任务。

但部分环节仍需通过手动方式完成迁移。

:::note

建议先运行迁移命令行工具，再根据手动迁移指南查漏补缺。

:::

## 手动迁移流程 {#manual-migration-process}

部分迁移内容（特别是页面部分）无法自动化处理，需手动迁移。

[手动迁移指南](./migration-manual.mdx) 提供了完整操作步骤。

## 支持 {#support}

如有疑问，可前往 [Discord 频道 `#migration-v1-to-v2`](https://discord.gg/C3P6CxMMxY) 咨询。

提交迁移 PR 时，可标注 [@slorber](https://github.com/slorber) 请求审核。

另有志愿者可提供 [v1 站点迁移协助](https://github.com/facebook/docusaurus/issues/1834)。

## 迁移 PR 示例 {#example-migration-prs}

您可以参考我们对[Create React App](https://github.com/facebook/create-react-app/pull/7785)和[Flux](https://github.com/facebook/flux/pull/471)的迁移PR示例，了解如何完成基础Docusaurus v1站点的迁移。