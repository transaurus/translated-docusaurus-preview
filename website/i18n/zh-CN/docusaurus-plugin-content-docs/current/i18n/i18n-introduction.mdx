---
id: introduction
slug: /i18n/introduction
---

# 国际化 - 简介

借助国际化（[i18n](https://en.wikipedia.org/wiki/Internationalization_and_localization)）支持，**翻译 Docusaurus 网站非常容易**。

## 目标 {#goals}

理解 Docusaurus 国际化支持背后的**设计决策**非常重要。

更多背景信息，可阅读最初的 [RFC](https://github.com/facebook/docusaurus/issues/3317) 和 [PR](https://github.com/facebook/docusaurus/pull/3325)。

### 国际化目标 {#i18n-goals}

Docusaurus 国际化系统的目标包括：

- **简单**：只需将翻译文件放在正确的文件系统位置
- **灵活的翻译工作流**：可使用 Git（单体仓库、分支或子模块）、SaaS 软件或 FTP
- **灵活的部署选项**：支持单域名、多域名或混合部署
- **模块化**：允许插件作者提供国际化支持
- **低运行时开销**：文档主要是静态内容，无需重型 JS 库或 polyfill
- **可扩展的构建时间**：允许独立构建和部署本地化站点
- **资源本地化**：站点图片可能包含需要翻译的文本
- **无耦合**：不强制使用任何 SaaS，但支持集成
- **易于与 [Crowdin](https://crowdin.com/) 配合使用**：许多 Docusaurus v1 站点使用 Crowdin，应能迁移到 v2
- **良好的 SEO 默认设置**：自动设置有用的 SEO 标头如 [`hreflang`](https://developers.google.com/search/docs/advanced/crawling/localized-versions)
- **RTL 支持**：支持从右向左阅读的语言（阿拉伯语、希伯来语等）且易于实现
- **默认翻译**：经典主题标签已为您翻译成[多种语言](https://github.com/facebook/docusaurus/tree/main/packages/docusaurus-theme-translations/locales)

### 非国际化目标 {#i18n-non-goals}

我们不提供以下支持：

- **自动语言检测**：此功能具有主观性，最好由[服务器（您的托管服务商）](../deployment.mdx)实现
- **翻译 SaaS 软件**：您需自行了解所选外部工具
- **slug 翻译**：技术复杂且 SEO 价值有限

## 翻译工作流 {#translation-workflow}

### 概述 {#overview}

创建翻译版 Docusaurus 网站的工作流概述：

1. **配置**：在 [`docusaurus.config.js`](../api/docusaurus.config.js.mdx#i18n) 中声明默认语言和备选语言
2. **翻译**：将翻译文件放置在正确的文件系统位置
3. **部署**：使用单域名或多域名策略构建并部署站点

### 翻译文件 {#translation-files}

您需要处理三种翻译文件。

#### Markdown 文件 {#markdown-files}

这是 Docusaurus 网站的主要内容。

Markdown 和 MDX 文档会整体翻译，以完整保留翻译上下文，而非将每个句子拆分为独立字符串。

#### JSON 文件 {#json-files}

JSON 用于翻译：

- React 代码：`src/pages` 中的独立 React 页面或其他组件
- 通过 `themeConfig` 提供的布局标签：导航栏、页脚
- 通过插件选项提供的布局标签：文档侧边栏分类标签、博客侧边栏标题等

使用的 JSON 格式称为 **Chrome i18n**：

```json
{
  "myTranslationKey1": {
    "message": "Translated message 1",
    "description": "myTranslationKey1 is used on the homepage"
  },
  "myTranslationKey2": {
    "message": "Translated message 2",
    "description": "myTranslationKey2 is used on the FAQ page"
  }
}
```

选择此格式有两大原因：

- **描述属性**：为翻译者提供额外的上下文信息
- **广泛支持**：[Chrome扩展](https://developer.chrome.com/docs/extensions/mv2/i18n-messages/)、[Crowdin](https://support.crowdin.com/file-formats/chrome-json/)、[Transifex](https://docs.transifex.com/formats/chrome-json)、[Phrase](https://help.phrase.com/help/chrome-json-messages)、[Applanga](https://www.applanga.com/docs/formats/chrome_i18n_json)等平台均支持该格式

#### 数据文件 {#data-files}

部分插件会从外部数据文件中读取需要整体本地化的内容。例如博客插件使用的[`authors.yml`](../blog.mdx#global-authors)文件，可通过在`i18n/[locale]/docusaurus-plugin-content-blog/`路径下创建副本实现翻译。

### 翻译文件存放位置 {#translation-files-location}

翻译文件需存放在正确的文件系统路径下。

每个语言版本和插件都有独立的`i18n`子目录：

```
website/i18n/[locale]/[pluginName]/...
```

:::note

多实例插件的路径格式为：`website/i18n/[locale]/[pluginName]-[pluginId]/...`

:::

为简单Docusaurus网站添加法语翻译后的目录结构示例如下：

```bash
website/i18n
└── fr
    ├── code.json  # Any text label present in the React code
    │              # Includes text labels from the themes' code
    ├── docusaurus-plugin-content-blog # translation data the blog plugin needs
    │   └── 2020-01-01-hello.md
    │
    ├── docusaurus-plugin-content-docs # translation data the docs plugin needs
    │   ├── current
    │   │   ├── doc1.md
    │   │   └── doc2.mdx
    │   └── current.json
    │
    └── docusaurus-theme-classic # translation data the classic theme needs
        ├── footer.json   # Text labels in your footer theme config
        └── navbar.json   # Text labels in your navbar theme config
```

JSON文件可通过[`docusaurus write-translations`](../cli.mdx#docusaurus-write-translations-sitedir)命令行工具初始化。各插件在对应目录下管理自身翻译内容，而`code.json`文件则定义React代码中使用的文本标签。

不同内容插件或主题**自定义翻译文件存放位置**：

- [文档国际化](../api/plugins/plugin-content-docs.mdx#i18n)
- [博客国际化](../api/plugins/plugin-content-blog.mdx#i18n)
- [页面国际化](../api/plugins/plugin-content-pages.mdx#i18n)
- [主题国际化](../api/themes/theme-configuration.mdx#i18n)