---
sidebar_position: 8
slug: /api/plugins/@docusaurus/plugin-google-tag-manager
---

# 📦 plugin-google-tag-manager

import APITable from '@site/src/components/APITable';

用于向Docusaurus站点添加[Google标签管理器(gtm.js)](https://developers.google.com/tag-platform/tag-manager)的插件。结合标准[gtag插件](./plugin-google-gtag.mdx)使用，可深入分析用户如何使用您的站点。

:::tip

您可以使用[Google的Tag Assistant](https://tagassistant.google.com/)工具检查标签管理器是否配置正确！

:::

:::warning[仅限生产环境]

该插件在开发环境中始终处于非活动状态，**仅在生产环境中激活**，以避免污染分析统计数据。

:::

## 安装 {#installation}

```bash npm2yarn
npm install --save @docusaurus/plugin-google-tag-manager
```

:::tip

如果使用预设`@docusaurus/preset-classic`，则无需单独安装此插件作为依赖项。

您可以通过[预设选项](../../using-plugins.mdx#docusauruspreset-classic)配置此插件。

:::

## 配置 {#configuration}

可接受字段：

<APITable>

| Name | Type | Default | Description |
| --- | --- | --- | --- |
| `containerId` | `string` | **Required** | Your Tag Manager container Id (usually starts with `GTM-`). |

</APITable>

### 配置示例 {#ex-config}

您可以通过预设选项或插件选项配置此插件。

:::tip

大多数Docusaurus用户通过预设选项配置此插件。

:::

```js config-tabs
// Preset Options: googleTagManager
// Plugin Options: @docusaurus/plugin-google-tag-manager

const config = {
  containerId: 'GTM-12345',
};
```