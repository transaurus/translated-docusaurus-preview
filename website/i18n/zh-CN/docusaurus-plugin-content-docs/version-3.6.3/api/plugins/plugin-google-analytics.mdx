---
sidebar_position: 6
slug: /api/plugins/@docusaurus/plugin-google-analytics
---

# 📦 plugin-google-analytics

import APITable from '@site/src/components/APITable';

默认的 [Google Analytics](https://developers.google.com/analytics/devguides/collection/analyticsjs/) 插件。这是一个用于在生产环境中测量用户与网站交互行为的JavaScript库。如果您正在使用Google Analytics 4，可能需要考虑改用 [plugin-google-gtag](./plugin-google-gtag.mdx)。

:::danger[已弃用]

该插件**已弃用**，自2023年7月1日起失效。

Google正在[逐步淘汰Universal Analytics](https://blog.google/products/marketingplatform/analytics/prepare-for-future-with-google-analytics-4/)。

如果您仍在使用带有`UA-*`跟踪ID的该插件，应尽快创建Google Analytics 4账户，并使用[`@docusaurus/plugin-google-gtag`](./plugin-google-gtag.mdx)替代本插件。更多细节请参见[此处](https://github.com/facebook/docusaurus/issues/7221)。

:::

:::warning[仅限生产环境]

该插件在开发环境中始终处于非激活状态，**仅在生产环境生效**，以避免污染统计数据。

:::

## 安装 {#installation}

```bash npm2yarn
npm install --save @docusaurus/plugin-google-analytics
```

:::tip

若使用`@docusaurus/preset-classic`预设，则无需单独安装该插件依赖。

可通过[预设选项](../../using-plugins.mdx#docusauruspreset-classic)配置本插件。

:::

## 配置 {#configuration}

可接受字段：

<APITable>

| Name | Type | Default | Description |
| --- | --- | --- | --- |
| `trackingID` | `string` | **Required** | The tracking ID of your analytics service. |
| `anonymizeIP` | `boolean` | `false` | Whether the IP should be anonymized when sending requests. |

</APITable>

### 配置示例 {#ex-config}

可通过预设选项或插件选项配置本插件。

:::tip

多数Docusaurus用户通过预设选项配置该插件。

:::

```js config-tabs
// Preset Options: googleAnalytics
// Plugin Options: @docusaurus/plugin-google-analytics

const config = {
  trackingID: 'UA-141789564-1',
  anonymizeIP: true,
};
```