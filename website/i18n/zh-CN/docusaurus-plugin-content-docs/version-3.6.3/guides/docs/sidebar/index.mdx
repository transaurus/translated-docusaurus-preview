---
slug: /sidebar
---

# 侧边栏

创建侧边栏可用于：

- 将多个**相关文档**分组
- 在这些文档的每个页面上**显示侧边栏**
- 提供**分页导航**，包含上一页/下一页按钮

要在Docusaurus站点中使用侧边栏：

1. 定义一个侧边栏文件，导出一个包含[侧边栏对象](#sidebar-object)的字典。
2. 将其路径直接传递给`@docusaurus/plugin-docs`插件或通过`@docusaurus/preset-classic`传递。

```js title="docusaurus.config.js"
export default {
  presets: [
    [
      '@docusaurus/preset-classic',
      {
        docs: {
          // highlight-next-line
          sidebarPath: './sidebars.js',
        },
      },
    ],
  ],
};
```

:::important[Node.js运行时]

侧边栏文件在Node.js环境中运行。不能在其中使用或导入浏览器API、React或JSX。

:::

本节概述了文档侧边栏的杂项功能。后续章节将更系统地介绍以下概念：

import DocCardList from '@theme/DocCardList';

<DocCardList />

## 默认侧边栏 {#default-sidebar}

如果未指定`sidebarPath`，Docusaurus会通过使用`docs`文件夹的文件系统结构[自动生成侧边栏](autogenerated.mdx)：

```js title="sidebars.js"
export default {
  mySidebar: [
    {
      type: 'autogenerated',
      dirName: '.', // generate sidebar from the docs folder (or versioned_docs/<version>)
    },
  ],
};
```

您也可以显式定义侧边栏。

## 侧边栏对象 {#sidebar-object}

侧边栏本质上是由分类、文档链接和其他超链接组成的层次结构。

```ts
type Sidebar =
  // Normal syntax
  | SidebarItem[]
  // Shorthand syntax
  | {[categoryLabel: string]: SidebarItem[]};
```

例如：

```js title="sidebars.js"
export default {
  mySidebar: [
    {
      type: 'category',
      label: 'Getting Started',
      items: [
        {
          type: 'doc',
          id: 'doc1',
        },
      ],
    },
    {
      type: 'category',
      label: 'Docusaurus',
      items: [
        {
          type: 'doc',
          id: 'doc2',
        },
        {
          type: 'doc',
          id: 'doc3',
        },
      ],
    },
    {
      type: 'link',
      label: 'Learn more',
      href: 'https://example.com',
    },
  ],
};
```

这是一个导出一个名为`mySidebar`侧边栏的侧边栏文件。它包含三个顶级项：两个分类和一个外部链接。每个分类下又有几个文档链接。

侧边栏文件可以包含[多个侧边栏对象](multiple-sidebars.mdx)，通过对象键进行标识。

```ts
type SidebarsFile = {
  [sidebarID: string]: Sidebar;
};
```

## 主题配置 {#theme-configuration}

### 可隐藏侧边栏 {#hideable-sidebar}

通过启用`themeConfig.docs.sidebar.hideable`选项，您可以使整个侧边栏可隐藏，让用户能更专注于内容。这在中等尺寸屏幕（如平板电脑）上查看内容时特别有用。

```js title="docusaurus.config.js"
export default {
  themeConfig: {
    // highlight-start
    docs: {
      sidebar: {
        hideable: true,
      },
    },
    // highlight-end
  },
};
```

### 自动折叠侧边栏分类 {#auto-collapse-sidebar-categories}

`themeConfig.docs.sidebar.autoCollapseCategories`选项会在展开一个分类时折叠所有同级分类。这可以避免用户同时打开过多分类，帮助他们专注于所选部分。

```js title="docusaurus.config.js"
export default {
  themeConfig: {
    // highlight-start
    docs: {
      sidebar: {
        autoCollapseCategories: true,
      },
    },
    // highlight-end
  },
};
```

## 传递自定义属性 {#passing-custom-props}

要向侧边栏项传递自定义属性，可在任意项中添加可选的`customProps`对象。这对于通过定制React组件来渲染侧边栏项以实现站点自定义非常有用。

```js
{
  type: 'doc',
  id: 'doc1',
  // highlight-start
  customProps: {
    badges: ['new', 'green'],
    featured: true,
  },
  // highlight-end
};
```

## 侧边栏面包屑导航 {#sidebar-breadcrumbs}

默认情况下，面包屑导航会显示在顶部，使用当前页面的"侧边栏路径"。

可以通过插件选项禁用此行为：

```js title="docusaurus.config.js"
export default {
  presets: [
    [
      '@docusaurus/preset-classic',
      {
        docs: {
          // highlight-next-line
          breadcrumbs: false,
        },
      },
    ],
  ],
};
```

## 复杂侧边栏示例 {#complex-sidebars-example}

来自Docusaurus网站的真实示例：

import CodeBlock from '@theme/CodeBlock';

<CodeBlock language="js" title="sidebars.js">
  {require('!!raw-loader!@site/sidebars.ts')
    .default
    .split('\n')
    // remove comments
    .map((line) => !['//','/*','*'].some(commentPattern => line.trim().startsWith(commentPattern)) && line)
    .filter(Boolean)
    .join('\n')}
</CodeBlock>