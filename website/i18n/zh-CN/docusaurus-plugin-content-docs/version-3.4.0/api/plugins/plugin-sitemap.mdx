---
sidebar_position: 10
slug: /api/plugins/@docusaurus/plugin-sitemap
---

# ğŸ“¦ plugin-sitemap

import APITable from '@site/src/components/APITable';

è¯¥æ’ä»¶ä¸ºæ‚¨çš„ç«™ç‚¹ç”Ÿæˆç«™ç‚¹åœ°å›¾ï¼Œä½¿æœç´¢å¼•æ“çˆ¬è™«èƒ½æ›´ç²¾å‡†åœ°æŠ“å–æ‚¨çš„ç½‘ç«™å†…å®¹ã€‚

:::warning[ä»…ç”Ÿäº§ç¯å¢ƒ]

æ­¤æ’ä»¶åœ¨å¼€å‘ç¯å¢ƒä¸­å§‹ç»ˆå¤„äºéæ´»è·ƒçŠ¶æ€ï¼Œ**ä»…åœ¨ç”Ÿäº§ç¯å¢ƒç”Ÿæ•ˆ**ï¼ˆä½œç”¨äºæ„å»ºè¾“å‡ºé˜¶æ®µï¼‰ã€‚

:::

## å®‰è£… {#installation}

```bash npm2yarn
npm install --save @docusaurus/plugin-sitemap
```

:::tip

è‹¥æ‚¨ä½¿ç”¨ `@docusaurus/preset-classic` é¢„è®¾ï¼Œåˆ™æ— éœ€å•ç‹¬å®‰è£…æ­¤æ’ä»¶ä¾èµ–ã€‚

å¯é€šè¿‡[é¢„è®¾é€‰é¡¹](../../using-plugins.mdx#docusauruspreset-classic)é…ç½®è¯¥æ’ä»¶ã€‚

:::

## é…ç½® {#configuration}

å¯æ¥å—å­—æ®µï¼š

<APITable>

| Name | Type | Default | Description |
| --- | --- | --- | --- |
| `lastmod` | `'date' \| 'datetime' \| null` | `null` | `date` is YYYY-MM-DD. `datetime` is a ISO 8601 datetime. `null` is disabled. See [sitemap docs](https://www.sitemaps.org/protocol.html#xmlTagDefinitions). |
| `changefreq` | `string \| null` | `'weekly'` | See [sitemap docs](https://www.sitemaps.org/protocol.html#xmlTagDefinitions) |
| `priority` | `number \| null` | `0.5` | See [sitemap docs](https://www.sitemaps.org/protocol.html#xmlTagDefinitions) |
| `ignorePatterns` | `string[]` | `[]` | A list of glob patterns; matching route paths will be filtered from the sitemap. Note that you may need to include the base URL in here. |
| `filename` | `string` | `sitemap.xml` | The path to the created sitemap file, relative to the output directory. Useful if you have two plugin instances outputting two files. |
| `createSitemapItems` | <code>[CreateSitemapItemsFn](#CreateSitemapItemsFn) \| undefined</code> | `undefined` | An optional function which can be used to transform and / or filter the items in the sitemap. |

</APITable>

### ç±»å‹ {#types}

#### `CreateSitemapItemsFn` {#CreateSitemapItemsFn}

```ts
type CreateSitemapItemsFn = (params: {
  siteConfig: DocusaurusConfig;
  routes: RouteConfig[];
  defaultCreateSitemapItems: CreateSitemapItemsFn;
}) => Promise<SitemapItem[]>;
```

:::info

æ­¤æ’ä»¶åŒæ—¶éµå¾ªä»¥ä¸‹ç«™ç‚¹é…ç½®ï¼š

- [`noIndex`](../docusaurus.config.js.mdx#noIndex)ï¼šå°†å¯¼è‡´ä¸ç”Ÿæˆç«™ç‚¹åœ°å›¾
- [`trailingSlash`](../docusaurus.config.js.mdx#trailingSlash)ï¼šå†³å®šç«™ç‚¹åœ°å›¾ä¸­çš„URLæ˜¯å¦åŒ…å«å°¾éƒ¨æ–œæ 

:::

:::note[å…³äº`lastmod`]

`lastmod`é€‰é¡¹ä»…åœ¨æ’ä»¶æä¾›[è·¯ç”±å…ƒæ•°æ®](../plugin-methods/lifecycle-apis.mdx#addRoute)å±æ€§`sourceFilePath`å’Œ/æˆ–`lastUpdatedAt`æ—¶è¾“å‡ºç«™ç‚¹åœ°å›¾çš„`<lastmod>`æ ‡ç­¾ã€‚

æ‰€æœ‰å®˜æ–¹å†…å®¹æ’ä»¶éƒ½ä¼šä¸ºåŸºäºå†…å®¹æ–‡ä»¶ï¼ˆMarkdownã€MDXæˆ–Reacté¡µé¢ç»„ä»¶ï¼‰çš„è·¯ç”±æä¾›å…ƒæ•°æ®ï¼Œä½†ç¬¬ä¸‰æ–¹æ’ä»¶ä½œè€…å¯èƒ½æœªæä¾›æ­¤ä¿¡æ¯ï¼Œæ­¤æ—¶æ’ä»¶å°†æ— æ³•ä¸ºå…¶è·¯ç”±è¾“å‡º`<lastmod>`æ ‡ç­¾ã€‚

:::

### é…ç½®ç¤ºä¾‹ {#ex-config}

å¯é€šè¿‡é¢„è®¾é€‰é¡¹æˆ–æ’ä»¶é€‰é¡¹é…ç½®æ­¤æ’ä»¶ã€‚

:::tip

å¤šæ•°Docusaurusç”¨æˆ·é€šè¿‡é¢„è®¾é€‰é¡¹é…ç½®æ­¤æ’ä»¶ã€‚

:::

```js config-tabs
// Preset Options: sitemap
// Plugin Options: @docusaurus/plugin-sitemap

const config = {
  lastmod: 'date',
  changefreq: 'weekly',
  priority: 0.5,
  ignorePatterns: ['/tags/**'],
  filename: 'sitemap.xml',
  createSitemapItems: async (params) => {
    const {defaultCreateSitemapItems, ...rest} = params;
    const items = await defaultCreateSitemapItems(rest);
    return items.filter((item) => !item.url.includes('/page/'));
  },
};
```

æ‚¨å¯åœ¨`/sitemap.xml`è·¯å¾„ä¸‹æ‰¾åˆ°ç”Ÿæˆçš„ç«™ç‚¹åœ°å›¾ã€‚