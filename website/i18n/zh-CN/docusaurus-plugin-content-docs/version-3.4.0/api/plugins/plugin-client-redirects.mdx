---
sidebar_position: 4
slug: /api/plugins/@docusaurus/plugin-client-redirects
---

# ğŸ“¦ plugin-client-redirects

import APITable from '@site/src/components/APITable';

ç”¨äºç”Ÿæˆ**å®¢æˆ·ç«¯é‡å®šå‘**çš„Docusaurusæ’ä»¶ã€‚

è¯¥æ’ä»¶ä¼šå‘é™æ€ç«™ç‚¹å†™å…¥é¢å¤–çš„HTMLé¡µé¢ï¼Œé€šè¿‡JavaScriptå°†ç”¨æˆ·é‡å®šå‘è‡³ç°æœ‰çš„Docusaurusé¡µé¢ã€‚

:::warning[ä»…ç”Ÿäº§ç¯å¢ƒç”Ÿæ•ˆ]

æœ¬æ’ä»¶åœ¨å¼€å‘ç¯å¢ƒä¸­å§‹ç»ˆå¤„äºéæ´»è·ƒçŠ¶æ€ï¼Œ**ä»…åœ¨ç”Ÿäº§ç¯å¢ƒç”Ÿæ•ˆ**ï¼Œå› å…¶åŠŸèƒ½åŸºäºæ„å»ºè¾“å‡ºå®ç°ã€‚

:::

:::warning

å»ºè®®ä¼˜å…ˆä½¿ç”¨æœåŠ¡ç«¯é‡å®šå‘æ–¹æ¡ˆã€‚

ä½¿ç”¨æœ¬æ’ä»¶å‰ï¼Œè¯·ç¡®è®¤æ‚¨çš„æ‰˜ç®¡æœåŠ¡å•†æ˜¯å¦å·²æä¾›æ­¤åŠŸèƒ½ã€‚

:::

## å®‰è£… {#installation}

```bash npm2yarn
npm install --save @docusaurus/plugin-client-redirects
```

## é…ç½® {#configuration}

å¯é…ç½®å­—æ®µï¼š

<APITable>

| Option | Type | Default | Description |
| --- | --- | --- | --- |
| `fromExtensions` | `string[]` | `[]` | The extensions to be removed from the route after redirecting. |
| `toExtensions` | `string[]` | `[]` | The extensions to be appended to the route after redirecting. |
| `redirects` | <code>[RedirectRule](#RedirectRule)[]</code> | `[]` | The list of redirect rules. |
| `createRedirects` | <code>[CreateRedirectsFn](#CreateRedirectsFn)</code> | `undefined` | A callback to create a redirect rule. Docusaurus query this callback against every path it has created, and use its return value to output more paths. |

</APITable>

:::note

æœ¬æ’ä»¶ä¼šè¯»å–[`siteConfig.onDuplicateRoutes`](../docusaurus.config.js.mdx#onDuplicateRoutes)é…ç½®ï¼Œå½“å¤šä¸ªæ–‡ä»¶å°†è¾“å‡ºè‡³ç›¸åŒä½ç½®æ—¶è°ƒæ•´å…¶æ—¥å¿—çº§åˆ«ã€‚

:::

### ç±»å‹å®šä¹‰ {#types}

#### `RedirectRule` {#RedirectRule}

```ts
type RedirectRule = {
  to: string;
  from: string | string[];
};
```

:::note

"from"ä¸"to"çš„æ¦‚å¿µæ˜¯æœ¬æ’ä»¶çš„æ ¸å¿ƒã€‚"from"è¡¨ç¤ºæ‚¨å¸Œæœ›åˆ›å»ºçš„è·¯å¾„ï¼ˆå³å¾…å†™å…¥çš„é¢å¤–HTMLæ–‡ä»¶ï¼‰ï¼›"to"è¡¨ç¤ºæ‚¨å¸Œæœ›é‡å®šå‘è‡³çš„è·¯å¾„ï¼ˆé€šå¸¸æ˜¯Docusauruså·²è¯†åˆ«çš„è·¯ç”±ï¼‰ã€‚

å› æ­¤å¯ä»¥å¯¹åŒä¸€ä¸ª"to"è®¾ç½®å¤šä¸ª"from"ï¼šæˆ‘ä»¬å°†åˆ›å»ºå¤šä¸ªæœ€ç»ˆæŒ‡å‘åŒä¸€ç›®æ ‡çš„HTMLæ–‡ä»¶ã€‚ä½†ä¸€ä¸ª"from"ç»ä¸èƒ½å¯¹åº”å¤šä¸ª"to"ï¼šå†™å…¥çš„HTMLæ–‡ä»¶å¿…é¡»å…·æœ‰ç¡®å®šçš„é‡å®šå‘ç›®æ ‡ã€‚

:::

#### `CreateRedirectsFn` {#CreateRedirectsFn}

```ts
// The parameter `path` is a route that Docusaurus has already created. It can
// be seen as the "to", and your return value is the "from". Returning a falsy
// value will not create any redirect pages for this particular path.
type CreateRedirectsFn = (path: string) => string[] | string | null | undefined;
```

### é…ç½®ç¤ºä¾‹ {#ex-config}

é…ç½®ç¤ºä¾‹å¦‚ä¸‹ï¼š

```js title="docusaurus.config.js"
export default {
  plugins: [
    [
      '@docusaurus/plugin-client-redirects',
      // highlight-start
      {
        fromExtensions: ['html', 'htm'], // /myPage.html -> /myPage
        toExtensions: ['exe', 'zip'], // /myAsset -> /myAsset.zip (if latter exists)
        redirects: [
          // /docs/oldDoc -> /docs/newDoc
          {
            to: '/docs/newDoc',
            from: '/docs/oldDoc',
          },
          // Redirect from multiple old paths to the new path
          {
            to: '/docs/newDoc2',
            from: ['/docs/oldDocFrom2019', '/docs/legacyDocFrom2016'],
          },
        ],
        createRedirects(existingPath) {
          if (existingPath.includes('/community')) {
            // Redirect from /docs/team/X to /community/X and /docs/support/X to /community/X
            return [
              existingPath.replace('/community', '/docs/team'),
              existingPath.replace('/community', '/docs/support'),
            ];
          }
          return undefined; // Return a falsy value: no redirect created
        },
      },
      // highlight-end
    ],
  ],
};
```